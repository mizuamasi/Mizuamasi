<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ウェブベースのシェーダーエディター</title>
    <!-- カスタムのスタイルシート -->
    <link rel="stylesheet" href="style.css">
    <!-- CodeMirrorのスタイルシート（CDN） -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/codemirror.min.css">
    <!-- CodeMirrorのテーマ（monokai） -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/theme/monokai.min.css">
    <!-- CodeMirrorのスクロールバー用スタイルシート -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/addon/scroll/simplescrollbars.min.css">
</head>
<body>
    <!-- WebGLキャンバス -->
    <canvas id="glcanvas"></canvas>

    <!-- ツールバー -->
    <div id="toolbar">
        <div class="toolbar-item">
            <label for="nickname-input">ニックネーム:</label>
            <input type="text" id="nickname-input" placeholder="Your Nickname">
        </div>
        <div class="toolbar-item">
            <label for="device-select">オーディオデバイス:</label>
            <select id="device-select">
                <!-- デバイス一覧が動的に追加されます -->
            </select>
        </div>
        <div class="toolbar-item">
            <button id="toggle-editor">エディター非表示</button>
        </div>
        <div class="toolbar-item">
            <button id="open-popup">ポップアップを開く</button>
        </div>
    </div>

    <!-- エディターとエラーログのコンテナ -->
    <div id="editor-error-container">
        <!-- エディターコンテナ -->
        <div id="editor-container">
            <!-- エディター -->
            <div id="editor-wrapper">
                <textarea id="shader-editor"></textarea>
                <!-- 波形表示 -->
                <canvas id="waveform"></canvas>
            </div>
        </div>
        <!-- リサイズハンドル -->
        <div id="vertical-drag-handle"></div>
        <!-- エラーログ -->
        <div id="error-log">
            <!-- エラーメッセージがここに表示されます -->
        </div>
    </div>

    <!-- デバッグ情報表示 -->
    <div id="debug-info"></div>

    <!-- ニックネーム入力モーダル -->
    <div id="nickname-modal" class="modal">
        <div class="modal-content">
            <h2>ニックネームを入力してください</h2>
            <input type="text" id="modal-nickname-input" placeholder="Your Nickname">
            <button id="modal-nickname-submit">OK</button>
        </div>
    </div>

    <!-- スクリプトの読み込み -->
    <!-- CodeMirrorのスクリプト（CDN） -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/codemirror.min.js"></script>
    <!-- GLSLモード用のスクリプト（CDN） -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/mode/clike/clike.min.js"></script>
    <!-- CodeMirrorのスクロールバーアドオン -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/addon/scroll/simplescrollbars.min.js"></script>
    <!-- 括弧のマッチング用アドオン -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/addon/edit/matchbrackets.min.js"></script>
    <!-- 括弧の自動補完用アドオン -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/addon/edit/closebrackets.min.js"></script>
    <!-- アプリケーションのメインスクリプト -->
    <script src="app.js"></script>
</body>
</html>
