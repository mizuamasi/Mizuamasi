<!-- editor.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>シェーダーエディター</title>
  <link rel="stylesheet" href="styles.css">
  
  <!-- CodeMirrorのCSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/dracula.min.css">
  
  <!-- Font Awesomeの読み込み -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- 上部ツールバー -->
  <div id="toolbar">
    <!-- トラッキング状態表示 -->
    <span id="tracking-status" title="使用状況">
      <i class="fas fa-eye-slash"></i> トラッキング: OFF
    </span>
    
    <!-- マイク状態表示 -->
    <span id="mic-status" title="マイク状態">
      <i class="fas fa-microphone-slash"></i> マイク: OFF
    </span>
    
    <!-- マイクのオン/オフボタン -->
    <button id="mic-toggle-btn" title="マイクのオン/オフ">
      <i class="fas fa-microphone-slash"></i>
    </button>
    
    <!-- エディターの表示/非表示ボタン -->
    <button id="toggle-editor-btn" title="エディターの表示/非表示">
      <i class="fas fa-code"></i>
    </button>
    
    <!-- コード保存ボタン -->
    <button id="save-btn" title="コードを保存">
      <i class="fas fa-save"></i>
    </button>
    
    <!-- コード読み込みボタン -->
    <button id="load-btn" title="コードを読み込む">
      <i class="fas fa-folder-open"></i>
    </button>
    
    <!-- ポップアップ表示ボタン -->
    <button id="popup-btn" title="ポップアップ表示">
      <i class="fas fa-external-link-alt"></i>
    </button>
    
    <!-- 右側にサンプル選択とマイク選択を配置 -->
    <div class="toolbar-right">
      <select id="sample-select" title="サンプルシェーダーを選択">
        <option value="">サンプルを選択</option>
        <option value="SampleCode/sample1.frag">Sample 1</option>
        <option value="SampleCode/sample2.frag">Sample 2</option>
      </select>
      <select id="microphone-select" title="マイクを選択">
        <option value="">マイクを選択</option>
      </select>
    </div>
  </div>

  <!-- メインコンテナ -->
  <div id="main-container">
    <!-- レンダリングキャンバス -->
    <canvas id="render-canvas"></canvas>
    
    <!-- エディターコンテナ -->
    <div id="editor-container">
      <textarea id="shader-code"></textarea>
    </div>
    
    <!-- コンソールコンテナ -->
    <div id="console-container">
      <div id="console-output"></div>
    </div>
    
    <!-- ロードモーダル -->
    <div id="load-modal" class="modal hidden">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>保存されたシェーダーコード</h2>
        <select id="saved-select">
          <option value="">保存済みコードを選択</option>
        </select>
        <button id="load-saved-btn">ロード</button>
      </div>
    </div>
  </div>

  <!-- Font AwesomeのJS（アイコン用） -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
  
  <!-- CodeMirrorのJS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/clike/clike.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/edit/matchbrackets.min.js"></script>
  
  <!-- エディターのスクリプト -->
  <script src="editor.js"></script>
</body>
</html>
